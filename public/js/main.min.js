"use strict";var signIn=function(e){firebase.auth().signInWithPopup(e).then(function(e){console.log(e);e.credential.accessToken;displayName.innerText="Bem vindo, "+e.user.displayName}).catch(function(e){console.log(e),alert("Falha na autenticação")})},authEmailPassButton=document.getElementById("authEmailPassButton"),authFacebookButton=document.getElementById("authFacebookButton"),authTwitterButton=document.getElementById("authTwitterButton"),authGoogleButton=document.getElementById("authGoogleButton"),authGitHubButton=document.getElementById("authGitHubButton"),authAnonymouslyButton=document.getElementById("authAnonymouslyButton"),createUserButton=document.getElementById("createUserButton"),logOutButton=document.getElementById("logOutButton"),userLogado=document.getElementById("userLogado"),emailInput=document.getElementById("emailInput"),passwordInput=document.getElementById("passwordInput"),displayName=document.getElementById("displayName");createUserButton.addEventListener("click",function(){firebase.auth().createUserWithEmailAndPassword(emailInput.value,passwordInput.value).then(function(){alert("Bem vindo "+emailInput.value)}).catch(function(e){console.error(e.code),console.error(e.message),alert("Falha ao cadastrar, verifique o erro no console.")})}),authEmailPassButton.addEventListener("click",function(){firebase.auth().signInWithEmailAndPassword(emailInput.value,passwordInput.value).then(function(e){console.log(e),displayName.innerText="Bem vindo, "+emailInput.value,alert("Autenticado "+emailInput.value)}).catch(function(e){console.error(e.code),console.error(e.message),alert("Falha ao autenticar, verifique o erro no console.")})}),logOutButton.addEventListener("click",function(){firebase.auth().signOut().then(function(){displayName.innerText="Você não está autenticado",alert("Você se deslogou")},function(e){console.error(e)})}),authAnonymouslyButton.addEventListener("click",function(){firebase.auth().signInAnonymously().then(function(e){console.log(e),displayName.innerText="Bem vindo, desconhecido",alert("Autenticado Anonimamente")}).catch(function(e){console.error(e.code),console.error(e.message),alert("Falha ao autenticar, verifique o erro no console.")})}),authGitHubButton.addEventListener("click",function(){var e=new firebase.auth.GithubAuthProvider;signIn(e)}),authGoogleButton.addEventListener("click",function(){var e=new firebase.auth.GoogleAuthProvider;signIn(e)}),authFacebookButton.addEventListener("click",function(){var e=new firebase.auth.FacebookAuthProvider;signIn(e)}),authTwitterButton.addEventListener("click",function(){var e=new firebase.auth.TwitterAuthProvider;signIn(e)});var firebaseConfig={apiKey:"AIzaSyCAAlbBEnDcCHq1AQoqaYfWrBzhOwZ4YHg",authDomain:"cpw-firebase.firebaseapp.com",databaseURL:"https://cpw-firebase.firebaseio.com/",projectId:"cpw-firebase",storageBucket:"cpw-firebase.appspot.com",messagingSenderId:"504432179730",appId:"1:504432179730:web:d8526dcbc8e10de60336cb",measurementId:"G-GBBDT4CT63"};firebase.initializeApp(firebaseConfig),firebase.database(),firebase.auth(),firebase.analytics(),console.log("init firebase");var create=function(e,t){var n={name:e,age:t};return firebase.database().ref().child("users").push(n)},usersList=document.querySelector("#usersList"),nameInput=document.querySelector("#nameInput"),ageInput=document.querySelector("#ageInput"),addButton=document.querySelector("#addButton");addButton.addEventListener("click",function(){create(nameInput.value,ageInput.value)}),firebase.database().ref("users").on("value",function(e){usersList.innerHTML="",e.forEach(function(e){var t=document.createElement("li");t.appendChild(document.createTextNode(e.val().name+": "+e.val().age)),usersList.appendChild(t)})});